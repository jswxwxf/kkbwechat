<form novalidate>

  <div ng-if-start="ctrl.opt.dateEnabled" class="row month-year">
    <div class="col col-10 left-arrow">
      <button type="button" class="button button-small button-positive button-clear icon ion-chevron-left" ng-click="ctrl.prevDate('months')"></button>
    </div>
    <label class="col col-33 month-input">
      <div class="item item-input item-select">
        <select ng-model="ctrl.month" ng-options="index as month for (index, month) in ctrl.months"></select>
      </div>
    </label>
    <label class="col year-input">
      <div class="item item-input item-select">
        <select ng-model="ctrl.year" ng-options="year for year in ctrl.years"></select>
      </div>
    </label>
    <div class="col col-15">
      <button type="button" class="button button-small button-positive" ng-click="ctrl.setToday()">今天</button>
    </div>
    <div class="col col-10 right-arrow">
      <button type="button" class="button button-small button-positive button-clear icon ion-chevron-right" ng-click="ctrl.nextDate('months')"></button>
    </div>
  </div>

  <div class="row calendar weekdays">
    <div class="col" ng-repeat="weekday in ctrl.weekdays">
      <div class="weekday">{{weekday}}</div>
    </div>
  </div>
  <div ng-if-end class="row calendar days" ng-repeat="y in ctrl.rows">
    <div class="col" ng-repeat="x in ctrl.cols">
      <div ng-show="(cellDay = y * 7 + x - ctrl.firstDay) > 0 && cellDay <= ctrl.daysInMonth"
           ng-click="ctrl.changeDay(cellDay)" class="day"
           ng-class="{ 'selected': cellDay === ctrl.day, 'today': cellDay == ctrl.today.day && ctrl.month == ctrl.today.month && ctrl.year == ctrl.today.year }">
        {{cellDay}}
      </div>
    </div>
  </div>

  <div ng-if-start="ctrl.opt.timeEnabled" class="row time-buttons">
    <div class="col"></div>
    <div class="col-20"><button type="button" class="button button-positive button-clear icon ion-chevron-up" ng-click="ctrl.prevTime('hours')"></button></div>
    <div class="col"></div>
    <div class="col-20"><button type="button" class="button button-positive button-clear icon ion-chevron-up" ng-click="ctrl.prevTime('minutes')"></button></div>
    <div class="col"></div>
  </div>
  <div class="row time">
    <div class="col"></div>
    <label class="col col-20">
      <div class="item item-input">
        <div>
          <input type="text" ng-model="ctrl.hour" pattern="0?([01]?[0-9]|2[0-3])" required>
        </div>
      </div>
    </label>
    <div class="col colon">:</div>
    <label class="col col-20">
      <div class="item item-input">
        <div>
          <input type="text" ng-model="ctrl.minute" pattern="0?[0-5]?[0-9]" required>
        </div>
      </div>
    </label>
    <div class="col"></div>
  </div>
  <div ng-if-end class="row time-buttons">
    <div class="col"></div>
    <div class="col-20"><button type="button" class="button button-positive button-clear icon ion-chevron-down" ng-click="ctrl.nextTime('hours')"></button></div>
    <div class="col"></div>
    <div class="col-20"><button type="button" class="button button-positive button-clear icon ion-chevron-down" ng-click="ctrl.nextTime('minutes')"></button></div>
    <div class="col"></div>
  </div>

</form>